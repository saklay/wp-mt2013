var addthis_config=addthis_config||{data_track_addressbar:!0};define(["jquery","underscore","backbone","jqmobile"],function(e,t,n,r){return n.View.extend({el:".view_content",events:{"click .product_box img":"thumbnailClick","click .arrow_right":"rightClick","click .arrow_left":"leftClick","click .icon_share2":"shareClick"},shareClick:function(t){var n=e(t.target),r=document.location,i={};return i.url=i.url=r.protocol+"//"+r.hostname+(r.hash.length>2?r.hash.replace("#",""):r.pathname),n.hasClass("icon_share2")?(n.find("ul").length?n.find("ul").remove():require(["handlebars","text!"+config.assetPath+"/templates/content/share.html"],function(e,t){n.append(e.compile(t)(i))}),!1):!0},thumbnailClick:function(t){this.changeCurrentSelection(e(t.target).parent()),e(".page_viewport_inner").animate({scrollTop:e("#social_apps_container").offset().top},"slow")},rightClick:function(){return e(".product_box_selected").next().length?this.changeCurrentSelection(e(".product_box_selected").next()):this.changeCurrentSelection(e(".product_box:first")),!1},leftClick:function(){return e(".product_box_selected").prev().length?this.changeCurrentSelection(e(".product_box_selected").prev()):this.changeCurrentSelection(e(".product_box:last")),!1},changeCurrentSelection:function(t){var n=this,r=1e3,i=this.$el.find(".product_box_selected"),s=e(this.$el.find(".product_box").get(t.index())).find("img"),o="right",u;this.$el.find(".product_box").removeClass("product_box_selected"),t.addClass("product_box_selected");if(!t.index()&&i.index()===this.$el.find(".tv_inner img").length-1)o="right";else if(i.index()>t.index()||!i.index()&&t.index()===this.$el.find(".tv_inner img").length-1)o="left";this.$el.find("#app_title").html(s.attr("title")),this.$el.find("#app_description").html(s.data("description")),this.$el.find("#app_overview_content").html(s.data("overview")),this.$el.find(".quote").html(s.data("moreoverview")),this.$el.find("#compatible_logos").html(""),u=String(s.data("compatible")).split(",");for(var a=0;a<u.length;a++)n.$el.find("#compatible_logos").append('<img src="'+config.assetPath+"/images/"+u[a]+".png"+'" />');this.$el.find(".tv_inner img").each(function(){e(this).index()===t.index()?e(this).css("left",o==="left"?-855:855).animate({left:0,opacity:1},r):o==="right"?e(this).css("left",0).animate({left:-855,opacity:0},r):e(this).css("left",0).animate({left:855,opacity:0},r)})},render:function(){var t=this;this.$el.find(".product_box img").each(function(){e(this).parent().append('<div class="title_hidden">'+e(this).attr("title")+"</div>"),t.$el.find(".tv_inner").append('<img src="'+e(this).data("image")+'" title="" />')}),this.$el.find(".tv_inner img").each(function(){e(this).bind("swipeleft",function(){t.rightClick()}),e(this).bind("swiperight",function(){t.leftClick()})}),this.changeCurrentSelection(e(".product_box:first"))}})})